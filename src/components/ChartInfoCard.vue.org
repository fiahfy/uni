<template>
  <v-card tile flat>
    <v-card-title class="py-2">
      <span>Total size: {{ totalSize | prettyBytes }}</span>
    </v-card-title>
    <v-card-actions class="pa-0 scroll-x">
      <div class="pa-2 text-no-wrap">
        <v-chip
          v-for="(p, index) of paths"
          :key="index"
          @click="(e) => onChipClick(e, index)"
        >
          {{ p }}{{ sep }}
        </v-chip>
      </div>
    </v-card-actions>
  </v-card>
</template>

<script>
import path from 'path'
import { mapState, mapGetters } from 'vuex'

export default {
  data() {
    return {
      sep: path.sep,
    }
  },
  computed: {
    paths() {
      return [
        this.rootPathHasNoTrailingSlash,
        ...this.selectedNames,
        ...this.hoveredNames,
      ]
    },
    ...mapState('local', ['selectedNames', 'hoveredNames', 'node']),
    ...mapGetters('local', ['totalSize', 'rootPathHasNoTrailingSlash']),
  },
  methods: {
    onChipClick(e, index) {
      this.$emit('click:chip', index)
    },
  },
}
</script>

<style lang="scss" scoped>
.v-card > .v-card__actions {
  overflow-x: scroll;
}
</style>
